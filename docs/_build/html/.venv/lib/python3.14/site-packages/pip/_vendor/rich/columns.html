

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; Retrogue 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/custom.css?v=a6a68382" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/fonts.css?v=5583d106" />

  
      <script src="../../../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../../../../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../../../../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../index.html" class="icon icon-home">
            Retrogue
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../modules.html">src</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../index.html">Retrogue</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../_sources/.venv/lib/python3.14/site-packages/pip/_vendor/rich/columns.py.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>from collections import defaultdict
from itertools import chain
from operator import itemgetter
from typing import Dict, Iterable, List, Optional, Tuple</p>
<p>from .align import Align, AlignMethod
from .console import Console, ConsoleOptions, RenderableType, RenderResult
from .constrain import Constrain
from .measure import Measurement
from .padding import Padding, PaddingDimensions
from .table import Table
from .text import TextType
from .jupyter import JupyterMixin</p>
<p>class Columns(JupyterMixin):
“””Display renderables in neat columns.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Args:
    renderables (Iterable[RenderableType]): Any number of Rich renderables (including str).
    width (int, optional): The desired width of the columns, or None to auto detect. Defaults to None.
    padding (PaddingDimensions, optional): Optional padding around cells. Defaults to (0, 1).
    expand (bool, optional): Expand columns to full width. Defaults to False.
    equal (bool, optional): Arrange in to equal sized columns. Defaults to False.
    column_first (bool, optional): Align items from top to bottom (rather than left to right). Defaults to False.
    right_to_left (bool, optional): Start column from right hand side. Defaults to False.
    align (str, optional): Align value (&quot;left&quot;, &quot;right&quot;, or &quot;center&quot;) or None for default. Defaults to None.
    title (TextType, optional): Optional title for Columns.
&quot;&quot;&quot;

def __init__(
    self,
    renderables: Optional[Iterable[RenderableType]] = None,
    padding: PaddingDimensions = (0, 1),
    *,
    width: Optional[int] = None,
    expand: bool = False,
    equal: bool = False,
    column_first: bool = False,
    right_to_left: bool = False,
    align: Optional[AlignMethod] = None,
    title: Optional[TextType] = None,
) -&gt; None:
    self.renderables = list(renderables or [])
    self.width = width
    self.padding = padding
    self.expand = expand
    self.equal = equal
    self.column_first = column_first
    self.right_to_left = right_to_left
    self.align: Optional[AlignMethod] = align
    self.title = title

def add_renderable(self, renderable: RenderableType) -&gt; None:
    &quot;&quot;&quot;Add a renderable to the columns.

    Args:
        renderable (RenderableType): Any renderable object.
    &quot;&quot;&quot;
    self.renderables.append(renderable)

def __rich_console__(
    self, console: Console, options: ConsoleOptions
) -&gt; RenderResult:
    render_str = console.render_str
    renderables = [
        render_str(renderable) if isinstance(renderable, str) else renderable
        for renderable in self.renderables
    ]
    if not renderables:
        return
    _top, right, _bottom, left = Padding.unpack(self.padding)
    width_padding = max(left, right)
    max_width = options.max_width
    widths: Dict[int, int] = defaultdict(int)
    column_count = len(renderables)

    get_measurement = Measurement.get
    renderable_widths = [
        get_measurement(console, options, renderable).maximum
        for renderable in renderables
    ]
    if self.equal:
        renderable_widths = [max(renderable_widths)] * len(renderable_widths)

    def iter_renderables(
        column_count: int,
    ) -&gt; Iterable[Tuple[int, Optional[RenderableType]]]:
        item_count = len(renderables)
        if self.column_first:
            width_renderables = list(zip(renderable_widths, renderables))

            column_lengths: List[int] = [item_count // column_count] * column_count
            for col_no in range(item_count % column_count):
                column_lengths[col_no] += 1

            row_count = (item_count + column_count - 1) // column_count
            cells = [[-1] * column_count for _ in range(row_count)]
            row = col = 0
            for index in range(item_count):
                cells[row][col] = index
                column_lengths[col] -= 1
                if column_lengths[col]:
                    row += 1
                else:
                    col += 1
                    row = 0
            for index in chain.from_iterable(cells):
                if index == -1:
                    break
                yield width_renderables[index]
        else:
            yield from zip(renderable_widths, renderables)
        # Pad odd elements with spaces
        if item_count % column_count:
            for _ in range(column_count - (item_count % column_count)):
                yield 0, None

    table = Table.grid(padding=self.padding, collapse_padding=True, pad_edge=False)
    table.expand = self.expand
    table.title = self.title

    if self.width is not None:
        column_count = (max_width) // (self.width + width_padding)
        for _ in range(column_count):
            table.add_column(width=self.width)
    else:
        while column_count &gt; 1:
            widths.clear()
            column_no = 0
            for renderable_width, _ in iter_renderables(column_count):
                widths[column_no] = max(widths[column_no], renderable_width)
                total_width = sum(widths.values()) + width_padding * (
                    len(widths) - 1
                )
                if total_width &gt; max_width:
                    column_count = len(widths) - 1
                    break
                else:
                    column_no = (column_no + 1) % column_count
            else:
                break

    get_renderable = itemgetter(1)
    _renderables = [
        get_renderable(_renderable)
        for _renderable in iter_renderables(column_count)
    ]
    if self.equal:
        _renderables = [
            None
            if renderable is None
            else Constrain(renderable, renderable_widths[0])
            for renderable in _renderables
        ]
    if self.align:
        align = self.align
        _Align = Align
        _renderables = [
            None if renderable is None else _Align(renderable, align)
            for renderable in _renderables
        ]

    right_to_left = self.right_to_left
    add_row = table.add_row
    for start in range(0, len(_renderables), column_count):
        row = _renderables[start : start + column_count]
        if right_to_left:
            row = row[::-1]
        add_row(*row)
    yield table
</pre></div>
</div>
<p>if <strong>name</strong> == “<strong>main</strong>”:  # pragma: no cover
import os</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>console = Console()

files = [f&quot;{i} {s}&quot; for i, s in enumerate(sorted(os.listdir()))]
columns = Columns(files, padding=(0, 1), expand=False, equal=False)
console.print(columns)
console.rule()
columns.column_first = True
console.print(columns)
columns.right_to_left = True
console.rule()
console.print(columns)
</pre></div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Adam Worsnip.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>