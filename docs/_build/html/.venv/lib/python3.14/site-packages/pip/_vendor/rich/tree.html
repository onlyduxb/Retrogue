

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>example.md &mdash; Retrogue 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/custom.css?v=a6a68382" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/fonts.css?v=5583d106" />

  
      <script src="../../../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../../../../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../../../../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../index.html" class="icon icon-home">
            Retrogue
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../modules.html">src</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../index.html">Retrogue</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">example.md</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../_sources/.venv/lib/python3.14/site-packages/pip/_vendor/rich/tree.py.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>from typing import Iterator, List, Optional, Tuple</p>
<p>from ._loop import loop_first, loop_last
from .console import Console, ConsoleOptions, RenderableType, RenderResult
from .jupyter import JupyterMixin
from .measure import Measurement
from .segment import Segment
from .style import Style, StyleStack, StyleType
from .styled import Styled</p>
<p>GuideType = Tuple[str, str, str, str]</p>
<p>class Tree(JupyterMixin):
‚Äú‚Äù‚ÄùA renderable for a tree structure.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Attributes:
    ASCII_GUIDES (GuideType): Guide lines used when Console.ascii_only is True.
    TREE_GUIDES (List[GuideType, GuideType, GuideType]): Default guide lines.

Args:
    label (RenderableType): The renderable or str for the tree label.
    style (StyleType, optional): Style of this tree. Defaults to &quot;tree&quot;.
    guide_style (StyleType, optional): Style of the guide lines. Defaults to &quot;tree.line&quot;.
    expanded (bool, optional): Also display children. Defaults to True.
    highlight (bool, optional): Highlight renderable (if str). Defaults to False.
    hide_root (bool, optional): Hide the root node. Defaults to False.
&quot;&quot;&quot;

ASCII_GUIDES = (&quot;    &quot;, &quot;|   &quot;, &quot;+-- &quot;, &quot;`-- &quot;)
TREE_GUIDES = [
    (&quot;    &quot;, &quot;‚îÇ   &quot;, &quot;‚îú‚îÄ‚îÄ &quot;, &quot;‚îî‚îÄ‚îÄ &quot;),
    (&quot;    &quot;, &quot;‚îÉ   &quot;, &quot;‚î£‚îÅ‚îÅ &quot;, &quot;‚îó‚îÅ‚îÅ &quot;),
    (&quot;    &quot;, &quot;‚ïë   &quot;, &quot;‚ï†‚ïê‚ïê &quot;, &quot;‚ïö‚ïê‚ïê &quot;),
]

def __init__(
    self,
    label: RenderableType,
    *,
    style: StyleType = &quot;tree&quot;,
    guide_style: StyleType = &quot;tree.line&quot;,
    expanded: bool = True,
    highlight: bool = False,
    hide_root: bool = False,
) -&gt; None:
    self.label = label
    self.style = style
    self.guide_style = guide_style
    self.children: List[Tree] = []
    self.expanded = expanded
    self.highlight = highlight
    self.hide_root = hide_root

def add(
    self,
    label: RenderableType,
    *,
    style: Optional[StyleType] = None,
    guide_style: Optional[StyleType] = None,
    expanded: bool = True,
    highlight: Optional[bool] = False,
) -&gt; &quot;Tree&quot;:
    &quot;&quot;&quot;Add a child tree.

    Args:
        label (RenderableType): The renderable or str for the tree label.
        style (StyleType, optional): Style of this tree. Defaults to &quot;tree&quot;.
        guide_style (StyleType, optional): Style of the guide lines. Defaults to &quot;tree.line&quot;.
        expanded (bool, optional): Also display children. Defaults to True.
        highlight (Optional[bool], optional): Highlight renderable (if str). Defaults to False.

    Returns:
        Tree: A new child Tree, which may be further modified.
    &quot;&quot;&quot;
    node = Tree(
        label,
        style=self.style if style is None else style,
        guide_style=self.guide_style if guide_style is None else guide_style,
        expanded=expanded,
        highlight=self.highlight if highlight is None else highlight,
    )
    self.children.append(node)
    return node

def __rich_console__(
    self, console: &quot;Console&quot;, options: &quot;ConsoleOptions&quot;
) -&gt; &quot;RenderResult&quot;:
    stack: List[Iterator[Tuple[bool, Tree]]] = []
    pop = stack.pop
    push = stack.append
    new_line = Segment.line()

    get_style = console.get_style
    null_style = Style.null()
    guide_style = get_style(self.guide_style, default=&quot;&quot;) or null_style
    SPACE, CONTINUE, FORK, END = range(4)

    _Segment = Segment

    def make_guide(index: int, style: Style) -&gt; Segment:
        &quot;&quot;&quot;Make a Segment for a level of the guide lines.&quot;&quot;&quot;
        if options.ascii_only:
            line = self.ASCII_GUIDES[index]
        else:
            guide = 1 if style.bold else (2 if style.underline2 else 0)
            line = self.TREE_GUIDES[0 if options.legacy_windows else guide][index]
        return _Segment(line, style)

    levels: List[Segment] = [make_guide(CONTINUE, guide_style)]
    push(iter(loop_last([self])))

    guide_style_stack = StyleStack(get_style(self.guide_style))
    style_stack = StyleStack(get_style(self.style))
    remove_guide_styles = Style(bold=False, underline2=False)

    depth = 0

    while stack:
        stack_node = pop()
        try:
            last, node = next(stack_node)
        except StopIteration:
            levels.pop()
            if levels:
                guide_style = levels[-1].style or null_style
                levels[-1] = make_guide(FORK, guide_style)
                guide_style_stack.pop()
                style_stack.pop()
            continue
        push(stack_node)
        if last:
            levels[-1] = make_guide(END, levels[-1].style or null_style)

        guide_style = guide_style_stack.current + get_style(node.guide_style)
        style = style_stack.current + get_style(node.style)
        prefix = levels[(2 if self.hide_root else 1) :]
        renderable_lines = console.render_lines(
            Styled(node.label, style),
            options.update(
                width=options.max_width
                - sum(level.cell_length for level in prefix),
                highlight=self.highlight,
                height=None,
            ),
            pad=options.justify is not None,
        )

        if not (depth == 0 and self.hide_root):
            for first, line in loop_first(renderable_lines):
                if prefix:
                    yield from _Segment.apply_style(
                        prefix,
                        style.background_style,
                        post_style=remove_guide_styles,
                    )
                yield from line
                yield new_line
                if first and prefix:
                    prefix[-1] = make_guide(
                        SPACE if last else CONTINUE, prefix[-1].style or null_style
                    )

        if node.expanded and node.children:
            levels[-1] = make_guide(
                SPACE if last else CONTINUE, levels[-1].style or null_style
            )
            levels.append(
                make_guide(END if len(node.children) == 1 else FORK, guide_style)
            )
            style_stack.push(get_style(node.style))
            guide_style_stack.push(get_style(node.guide_style))
            push(iter(loop_last(node.children)))
            depth += 1

def __rich_measure__(
    self, console: &quot;Console&quot;, options: &quot;ConsoleOptions&quot;
) -&gt; &quot;Measurement&quot;:
    stack: List[Iterator[Tree]] = [iter([self])]
    pop = stack.pop
    push = stack.append
    minimum = 0
    maximum = 0
    measure = Measurement.get
    level = 0
    while stack:
        iter_tree = pop()
        try:
            tree = next(iter_tree)
        except StopIteration:
            level -= 1
            continue
        push(iter_tree)
        min_measure, max_measure = measure(console, options, tree.label)
        indent = level * 4
        minimum = max(min_measure + indent, minimum)
        maximum = max(max_measure + indent, maximum)
        if tree.expanded and tree.children:
            push(iter(tree.children))
            level += 1
    return Measurement(minimum, maximum)
</pre></div>
</div>
<p>if <strong>name</strong> == ‚Äú<strong>main</strong>‚Äù:  # pragma: no cover
from pip._vendor.rich.console import Group
from pip._vendor.rich.markdown import Markdown
from pip._vendor.rich.panel import Panel
from pip._vendor.rich.syntax import Syntax
from pip._vendor.rich.table import Table</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>table = Table(row_styles=[&quot;&quot;, &quot;dim&quot;])

table.add_column(&quot;Released&quot;, style=&quot;cyan&quot;, no_wrap=True)
table.add_column(&quot;Title&quot;, style=&quot;magenta&quot;)
table.add_column(&quot;Box Office&quot;, justify=&quot;right&quot;, style=&quot;green&quot;)

table.add_row(&quot;Dec 20, 2019&quot;, &quot;Star Wars: The Rise of Skywalker&quot;, &quot;$952,110,690&quot;)
table.add_row(&quot;May 25, 2018&quot;, &quot;Solo: A Star Wars Story&quot;, &quot;$393,151,347&quot;)
table.add_row(&quot;Dec 15, 2017&quot;, &quot;Star Wars Ep. V111: The Last Jedi&quot;, &quot;$1,332,539,889&quot;)
table.add_row(&quot;Dec 16, 2016&quot;, &quot;Rogue One: A Star Wars Story&quot;, &quot;$1,332,439,889&quot;)

code = &quot;&quot;&quot;\
</pre></div>
</div>
<p>class Segment(NamedTuple):
text: str = ‚Äú‚Äù
style: Optional[Style] = None
is_control: bool = False
‚Äú‚Äù‚Äù
syntax = Syntax(code, ‚Äúpython‚Äù, theme=‚Äùmonokai‚Äù, line_numbers=True)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>markdown = Markdown(
    &quot;&quot;&quot;\
</pre></div>
</div>
<section id="example-md">
<h1>example.md<a class="headerlink" href="#example-md" title="Link to this heading">ÔÉÅ</a></h1>
<blockquote>
<div><p>Hello, World!</p>
<p>Markdown <em>all</em> the things
‚Äú‚Äù‚Äù
)</p>
</div></blockquote>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>root = Tree(&quot;üå≤ [b green]Rich Tree&quot;, highlight=True, hide_root=True)

node = root.add(&quot;:file_folder: Renderables&quot;, guide_style=&quot;red&quot;)
simple_node = node.add(&quot;:file_folder: [bold yellow]Atomic&quot;, guide_style=&quot;uu green&quot;)
simple_node.add(Group(&quot;üìÑ Syntax&quot;, syntax))
simple_node.add(Group(&quot;üìÑ Markdown&quot;, Panel(markdown, border_style=&quot;green&quot;)))

containers_node = node.add(
    &quot;:file_folder: [bold magenta]Containers&quot;, guide_style=&quot;bold magenta&quot;
)
containers_node.expanded = True
panel = Panel.fit(&quot;Just a panel&quot;, border_style=&quot;red&quot;)
containers_node.add(Group(&quot;üìÑ Panels&quot;, panel))

containers_node.add(Group(&quot;üìÑ [b magenta]Table&quot;, table))

console = Console()

console.print(root)
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Adam Worsnip.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>