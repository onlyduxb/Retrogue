

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; Retrogue 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/custom.css?v=a6a68382" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/fonts.css?v=5583d106" />

  
      <script src="../../../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../../../../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../../../../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../index.html" class="icon icon-home">
            Retrogue
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../modules.html">src</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../index.html">Retrogue</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../_sources/.venv/lib/python3.14/site-packages/pip/_vendor/urllib3/request.py.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>from <strong>future</strong> import absolute_import</p>
<p>import sys</p>
<p>from .filepost import encode_multipart_formdata
from .packages import six
from .packages.six.moves.urllib.parse import urlencode</p>
<p><strong>all</strong> = [“RequestMethods”]</p>
<p>class RequestMethods(object):
“””
Convenience mixin for classes who implement a :meth:<code class="docutils literal notranslate"><span class="pre">urlopen</span></code> method, such
as :class:<code class="docutils literal notranslate"><span class="pre">urllib3.HTTPConnectionPool</span></code> and
:class:<code class="docutils literal notranslate"><span class="pre">urllib3.PoolManager</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Provides behavior for making common types of HTTP request methods and
decides which type of request field encoding to use.

Specifically,

:meth:`.request_encode_url` is for sending requests whose fields are
encoded in the URL (such as GET, HEAD, DELETE).

:meth:`.request_encode_body` is for sending requests whose fields are
encoded in the *body* of the request using multipart or www-form-urlencoded
(such as for POST, PUT, PATCH).

:meth:`.request` is for making any kind of request, it will look up the
appropriate encoding format and use one of the above two methods to make
the request.

Initializer parameters:

:param headers:
    Headers to include with all requests, unless other headers are given
    explicitly.
&quot;&quot;&quot;

_encode_url_methods = {&quot;DELETE&quot;, &quot;GET&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;}

def __init__(self, headers=None):
    self.headers = headers or {}

def urlopen(
    self,
    method,
    url,
    body=None,
    headers=None,
    encode_multipart=True,
    multipart_boundary=None,
    **kw
):  # Abstract
    raise NotImplementedError(
        &quot;Classes extending RequestMethods must implement &quot;
        &quot;their own ``urlopen`` method.&quot;
    )

def request(self, method, url, fields=None, headers=None, **urlopen_kw):
    &quot;&quot;&quot;
    Make a request using :meth:`urlopen` with the appropriate encoding of
    ``fields`` based on the ``method`` used.

    This is a convenience method that requires the least amount of manual
    effort. It can be used in most situations, while still having the
    option to drop down to more specific methods when necessary, such as
    :meth:`request_encode_url`, :meth:`request_encode_body`,
    or even the lowest level :meth:`urlopen`.
    &quot;&quot;&quot;
    method = method.upper()

    urlopen_kw[&quot;request_url&quot;] = url

    if method in self._encode_url_methods:
        return self.request_encode_url(
            method, url, fields=fields, headers=headers, **urlopen_kw
        )
    else:
        return self.request_encode_body(
            method, url, fields=fields, headers=headers, **urlopen_kw
        )

def request_encode_url(self, method, url, fields=None, headers=None, **urlopen_kw):
    &quot;&quot;&quot;
    Make a request using :meth:`urlopen` with the ``fields`` encoded in
    the url. This is useful for request methods like GET, HEAD, DELETE, etc.
    &quot;&quot;&quot;
    if headers is None:
        headers = self.headers

    extra_kw = {&quot;headers&quot;: headers}
    extra_kw.update(urlopen_kw)

    if fields:
        url += &quot;?&quot; + urlencode(fields)

    return self.urlopen(method, url, **extra_kw)

def request_encode_body(
    self,
    method,
    url,
    fields=None,
    headers=None,
    encode_multipart=True,
    multipart_boundary=None,
    **urlopen_kw
):
    &quot;&quot;&quot;
    Make a request using :meth:`urlopen` with the ``fields`` encoded in
    the body. This is useful for request methods like POST, PUT, PATCH, etc.

    When ``encode_multipart=True`` (default), then
    :func:`urllib3.encode_multipart_formdata` is used to encode
    the payload with the appropriate content type. Otherwise
    :func:`urllib.parse.urlencode` is used with the
    &#39;application/x-www-form-urlencoded&#39; content type.

    Multipart encoding must be used when posting files, and it&#39;s reasonably
    safe to use it in other times too. However, it may break request
    signing, such as with OAuth.

    Supports an optional ``fields`` parameter of key/value strings AND
    key/filetuple. A filetuple is a (filename, data, MIME type) tuple where
    the MIME type is optional. For example::

        fields = {
            &#39;foo&#39;: &#39;bar&#39;,
            &#39;fakefile&#39;: (&#39;foofile.txt&#39;, &#39;contents of foofile&#39;),
            &#39;realfile&#39;: (&#39;barfile.txt&#39;, open(&#39;realfile&#39;).read()),
            &#39;typedfile&#39;: (&#39;bazfile.bin&#39;, open(&#39;bazfile&#39;).read(),
                          &#39;image/jpeg&#39;),
            &#39;nonamefile&#39;: &#39;contents of nonamefile field&#39;,
        }

    When uploading a file, providing a filename (the first parameter of the
    tuple) is optional but recommended to best mimic behavior of browsers.

    Note that if ``headers`` are supplied, the &#39;Content-Type&#39; header will
    be overwritten because it depends on the dynamic random boundary string
    which is used to compose the body of the request. The random boundary
    string can be explicitly set with the ``multipart_boundary`` parameter.
    &quot;&quot;&quot;
    if headers is None:
        headers = self.headers

    extra_kw = {&quot;headers&quot;: {}}

    if fields:
        if &quot;body&quot; in urlopen_kw:
            raise TypeError(
                &quot;request got values for both &#39;fields&#39; and &#39;body&#39;, can only specify one.&quot;
            )

        if encode_multipart:
            body, content_type = encode_multipart_formdata(
                fields, boundary=multipart_boundary
            )
        else:
            body, content_type = (
                urlencode(fields),
                &quot;application/x-www-form-urlencoded&quot;,
            )

        extra_kw[&quot;body&quot;] = body
        extra_kw[&quot;headers&quot;] = {&quot;Content-Type&quot;: content_type}

    extra_kw[&quot;headers&quot;].update(headers)
    extra_kw.update(urlopen_kw)

    return self.urlopen(method, url, **extra_kw)
</pre></div>
</div>
<p>if not six.PY2:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>class RequestModule(sys.modules[__name__].__class__):
    def __call__(self, *args, **kwargs):
        &quot;&quot;&quot;
        If user tries to call this module directly urllib3 v2.x style raise an error to the user
        suggesting they may need urllib3 v2
        &quot;&quot;&quot;
        raise TypeError(
            &quot;&#39;module&#39; object is not callable\n&quot;
            &quot;urllib3.request() method is not supported in this release, &quot;
            &quot;upgrade to urllib3 v2 to use it\n&quot;
            &quot;see https://urllib3.readthedocs.io/en/stable/v2-migration-guide.html&quot;
        )

sys.modules[__name__].__class__ = RequestModule
</pre></div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Adam Worsnip.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>