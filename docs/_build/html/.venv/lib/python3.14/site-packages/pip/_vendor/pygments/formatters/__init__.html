

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; Retrogue 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/custom.css?v=a6a68382" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../../_static/fonts.css?v=5583d106" />

  
      <script src="../../../../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../../../../../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../../../../../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../../index.html" class="icon icon-home">
            Retrogue
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../modules.html">src</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../../index.html">Retrogue</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../../_sources/.venv/lib/python3.14/site-packages/pip/_vendor/pygments/formatters/__init__.py.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>“””
pygments.formatters
~~~~~~~~~~~~~~~~~~~</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Pygments formatters.

:copyright: Copyright 2006-2025 by the Pygments team, see AUTHORS.
:license: BSD, see LICENSE for details.
</pre></div>
</div>
<p>“””</p>
<p>import re
import sys
import types
import fnmatch
from os.path import basename</p>
<p>from pip._vendor.pygments.formatters._mapping import FORMATTERS
from pip._vendor.pygments.plugin import find_plugin_formatters
from pip._vendor.pygments.util import ClassNotFound</p>
<p><strong>all</strong> = [‘get_formatter_by_name’, ‘get_formatter_for_filename’,
‘get_all_formatters’, ‘load_formatter_from_file’] + list(FORMATTERS)</p>
<p>_formatter_cache = {}  # classes by name
_pattern_cache = {}</p>
<p>def _fn_matches(fn, glob):
“””Return whether the supplied file name fn matches pattern filename.”””
if glob not in _pattern_cache:
pattern = _pattern_cache[glob] = re.compile(fnmatch.translate(glob))
return pattern.match(fn)
return _pattern_cache[glob].match(fn)</p>
<p>def _load_formatters(module_name):
“””Load a formatter (and all others in the module too).”””
mod = <strong>import</strong>(module_name, None, None, [’<strong>all</strong>’])
for formatter_name in mod.<strong>all</strong>:
cls = getattr(mod, formatter_name)
_formatter_cache[cls.name] = cls</p>
<p>def get_all_formatters():
“””Return a generator for all formatter classes.”””
# NB: this returns formatter classes, not info like get_all_lexers().
for info in FORMATTERS.values():
if info[1] not in _formatter_cache:
_load_formatters(info[0])
yield _formatter_cache[info[1]]
for _, formatter in find_plugin_formatters():
yield formatter</p>
<p>def find_formatter_class(alias):
“””Lookup a formatter by alias.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Returns None if not found.
&quot;&quot;&quot;
for module_name, name, aliases, _, _ in FORMATTERS.values():
    if alias in aliases:
        if name not in _formatter_cache:
            _load_formatters(module_name)
        return _formatter_cache[name]
for _, cls in find_plugin_formatters():
    if alias in cls.aliases:
        return cls
</pre></div>
</div>
<p>def get_formatter_by_name(_alias, **options):
“””
Return an instance of a :class:<code class="docutils literal notranslate"><span class="pre">.Formatter</span></code> subclass that has <code class="docutils literal notranslate"><span class="pre">alias</span></code> in its
aliases list. The formatter is given the <code class="docutils literal notranslate"><span class="pre">options</span></code> at its instantiation.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Will raise :exc:`pygments.util.ClassNotFound` if no formatter with that
alias is found.
&quot;&quot;&quot;
cls = find_formatter_class(_alias)
if cls is None:
    raise ClassNotFound(f&quot;no formatter found for name {_alias!r}&quot;)
return cls(**options)
</pre></div>
</div>
<p>def load_formatter_from_file(filename, formattername=”CustomFormatter”, **options):
“””
Return a <code class="docutils literal notranslate"><span class="pre">Formatter</span></code> subclass instance loaded from the provided file, relative
to the current directory.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The file is expected to contain a Formatter class named ``formattername``
(by default, CustomFormatter). Users should be very careful with the input, because
this method is equivalent to running ``eval()`` on the input file. The formatter is
given the `options` at its instantiation.

:exc:`pygments.util.ClassNotFound` is raised if there are any errors loading
the formatter.

.. versionadded:: 2.2
&quot;&quot;&quot;
try:
    # This empty dict will contain the namespace for the exec&#39;d file
    custom_namespace = {}
    with open(filename, &#39;rb&#39;) as f:
        exec(f.read(), custom_namespace)
    # Retrieve the class `formattername` from that namespace
    if formattername not in custom_namespace:
        raise ClassNotFound(f&#39;no valid {formattername} class found in {filename}&#39;)
    formatter_class = custom_namespace[formattername]
    # And finally instantiate it with the options
    return formatter_class(**options)
except OSError as err:
    raise ClassNotFound(f&#39;cannot read {filename}: {err}&#39;)
except ClassNotFound:
    raise
except Exception as err:
    raise ClassNotFound(f&#39;error when loading custom formatter: {err}&#39;)
</pre></div>
</div>
<p>def get_formatter_for_filename(fn, **options):
“””
Return a :class:<code class="docutils literal notranslate"><span class="pre">.Formatter</span></code> subclass instance that has a filename pattern
matching <code class="docutils literal notranslate"><span class="pre">fn</span></code>. The formatter is given the <code class="docutils literal notranslate"><span class="pre">options</span></code> at its instantiation.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Will raise :exc:`pygments.util.ClassNotFound` if no formatter for that filename
is found.
&quot;&quot;&quot;
fn = basename(fn)
for modname, name, _, filenames, _ in FORMATTERS.values():
    for filename in filenames:
        if _fn_matches(fn, filename):
            if name not in _formatter_cache:
                _load_formatters(modname)
            return _formatter_cache[name](**options)
for _name, cls in find_plugin_formatters():
    for filename in cls.filenames:
        if _fn_matches(fn, filename):
            return cls(**options)
raise ClassNotFound(f&quot;no formatter found for file name {fn!r}&quot;)
</pre></div>
</div>
<p>class _automodule(types.ModuleType):
“””Automatically import formatters.”””</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def __getattr__(self, name):
    info = FORMATTERS.get(name)
    if info:
        _load_formatters(info[0])
        cls = _formatter_cache[info[1]]
        setattr(self, name, cls)
        return cls
    raise AttributeError(name)
</pre></div>
</div>
<p>oldmod = sys.modules[<strong>name</strong>]
newmod = _automodule(<strong>name</strong>)
newmod.<strong>dict</strong>.update(oldmod.<strong>dict</strong>)
sys.modules[<strong>name</strong>] = newmod
del newmod.newmod, newmod.oldmod, newmod.sys, newmod.types</p>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Adam Worsnip.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>