

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; Retrogue 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/custom.css?v=a6a68382" />
      <link rel="stylesheet" type="text/css" href="../../../../../../../_static/fonts.css?v=5583d106" />

  
      <script src="../../../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../../../../_static/documentation_options.js?v=d45e8c67"></script>
      <script src="../../../../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../index.html" class="icon icon-home">
            Retrogue
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../modules.html">src</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../index.html">Retrogue</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../_sources/.venv/lib/python3.14/site-packages/pip/_vendor/rich/highlighter.py.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>import re
from abc import ABC, abstractmethod
from typing import List, Union</p>
<p>from .text import Span, Text</p>
<p>def _combine_regex(*regexes: str) -&gt; str:
“””Combine a number of regexes in to a single regex.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Returns:
    str: New regex with all regexes ORed together.
&quot;&quot;&quot;
return &quot;|&quot;.join(regexes)
</pre></div>
</div>
<p>class Highlighter(ABC):
“””Abstract base class for highlighters.”””</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def __call__(self, text: Union[str, Text]) -&gt; Text:
    &quot;&quot;&quot;Highlight a str or Text instance.

    Args:
        text (Union[str, ~Text]): Text to highlight.

    Raises:
        TypeError: If not called with text or str.

    Returns:
        Text: A test instance with highlighting applied.
    &quot;&quot;&quot;
    if isinstance(text, str):
        highlight_text = Text(text)
    elif isinstance(text, Text):
        highlight_text = text.copy()
    else:
        raise TypeError(f&quot;str or Text instance required, not {text!r}&quot;)
    self.highlight(highlight_text)
    return highlight_text

@abstractmethod
def highlight(self, text: Text) -&gt; None:
    &quot;&quot;&quot;Apply highlighting in place to text.

    Args:
        text (~Text): A text object highlight.
    &quot;&quot;&quot;
</pre></div>
</div>
<p>class NullHighlighter(Highlighter):
“””A highlighter object that doesn’t highlight.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>May be used to disable highlighting entirely.

&quot;&quot;&quot;

def highlight(self, text: Text) -&gt; None:
    &quot;&quot;&quot;Nothing to do&quot;&quot;&quot;
</pre></div>
</div>
<p>class RegexHighlighter(Highlighter):
“””Applies highlighting from a list of regular expressions.”””</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>highlights: List[str] = []
base_style: str = &quot;&quot;

def highlight(self, text: Text) -&gt; None:
    &quot;&quot;&quot;Highlight :class:`rich.text.Text` using regular expressions.

    Args:
        text (~Text): Text to highlighted.

    &quot;&quot;&quot;

    highlight_regex = text.highlight_regex
    for re_highlight in self.highlights:
        highlight_regex(re_highlight, style_prefix=self.base_style)
</pre></div>
</div>
<p>class ReprHighlighter(RegexHighlighter):
“””Highlights the text typically produced from <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> methods.”””</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>base_style = &quot;repr.&quot;
highlights = [
    r&quot;(?P&lt;tag_start&gt;&lt;)(?P&lt;tag_name&gt;[-\w.:|]*)(?P&lt;tag_contents&gt;[\w\W]*)(?P&lt;tag_end&gt;&gt;)&quot;,
    r&#39;(?P&lt;attrib_name&gt;[\w_]{1,50})=(?P&lt;attrib_value&gt;&quot;?[\w_]+&quot;?)?&#39;,
    r&quot;(?P&lt;brace&gt;[][{}()])&quot;,
    _combine_regex(
        r&quot;(?P&lt;ipv4&gt;[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})&quot;,
        r&quot;(?P&lt;ipv6&gt;([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})&quot;,
        r&quot;(?P&lt;eui64&gt;(?:[0-9A-Fa-f]{1,2}-){7}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{1,2}:){7}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{4}\.){3}[0-9A-Fa-f]{4})&quot;,
        r&quot;(?P&lt;eui48&gt;(?:[0-9A-Fa-f]{1,2}-){5}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{1,2}:){5}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{4}\.){2}[0-9A-Fa-f]{4})&quot;,
        r&quot;(?P&lt;uuid&gt;[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})&quot;,
        r&quot;(?P&lt;call&gt;[\w.]*?)\(&quot;,
        r&quot;\b(?P&lt;bool_true&gt;True)\b|\b(?P&lt;bool_false&gt;False)\b|\b(?P&lt;none&gt;None)\b&quot;,
        r&quot;(?P&lt;ellipsis&gt;\.\.\.)&quot;,
        r&quot;(?P&lt;number_complex&gt;(?&lt;!\w)(?:\-?[0-9]+\.?[0-9]*(?:e[-+]?\d+?)?)(?:[-+](?:[0-9]+\.?[0-9]*(?:e[-+]?\d+)?))?j)&quot;,
        r&quot;(?P&lt;number&gt;(?&lt;!\w)\-?[0-9]+\.?[0-9]*(e[-+]?\d+?)?\b|0x[0-9a-fA-F]*)&quot;,
        r&quot;(?P&lt;path&gt;\B(/[-\w._+]+)*\/)(?P&lt;filename&gt;[-\w._+]*)?&quot;,
        r&quot;(?&lt;![\\\w])(?P&lt;str&gt;b?&#39;&#39;&#39;.*?(?&lt;!\\)&#39;&#39;&#39;|b?&#39;.*?(?&lt;!\\)&#39;|b?\&quot;\&quot;\&quot;.*?(?&lt;!\\)\&quot;\&quot;\&quot;|b?\&quot;.*?(?&lt;!\\)\&quot;)&quot;,
        r&quot;(?P&lt;url&gt;(file|https|http|ws|wss)://[-0-9a-zA-Z$_+!`(),.?/;:&amp;=%#~@]*)&quot;,
    ),
]
</pre></div>
</div>
<p>class JSONHighlighter(RegexHighlighter):
“””Highlights JSON”””</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Captures the start and end of JSON strings, handling escaped quotes
JSON_STR = r&quot;(?&lt;![\\\w])(?P&lt;str&gt;b?\&quot;.*?(?&lt;!\\)\&quot;)&quot;
JSON_WHITESPACE = {&quot; &quot;, &quot;\n&quot;, &quot;\r&quot;, &quot;\t&quot;}

base_style = &quot;json.&quot;
highlights = [
    _combine_regex(
        r&quot;(?P&lt;brace&gt;[\{\[\(\)\]\}])&quot;,
        r&quot;\b(?P&lt;bool_true&gt;true)\b|\b(?P&lt;bool_false&gt;false)\b|\b(?P&lt;null&gt;null)\b&quot;,
        r&quot;(?P&lt;number&gt;(?&lt;!\w)\-?[0-9]+\.?[0-9]*(e[\-\+]?\d+?)?\b|0x[0-9a-fA-F]*)&quot;,
        JSON_STR,
    ),
]

def highlight(self, text: Text) -&gt; None:
    super().highlight(text)

    # Additional work to handle highlighting JSON keys
    plain = text.plain
    append = text.spans.append
    whitespace = self.JSON_WHITESPACE
    for match in re.finditer(self.JSON_STR, plain):
        start, end = match.span()
        cursor = end
        while cursor &lt; len(plain):
            char = plain[cursor]
            cursor += 1
            if char == &quot;:&quot;:
                append(Span(start, end, &quot;json.key&quot;))
            elif char in whitespace:
                continue
            break
</pre></div>
</div>
<p>class ISO8601Highlighter(RegexHighlighter):
“””Highlights the ISO8601 date time strings.
Regex reference: https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch04s07.html
“””</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>base_style = &quot;iso8601.&quot;
highlights = [
    #
    # Dates
    #
    # Calendar month (e.g. 2008-08). The hyphen is required
    r&quot;^(?P&lt;year&gt;[0-9]{4})-(?P&lt;month&gt;1[0-2]|0[1-9])$&quot;,
    # Calendar date w/o hyphens (e.g. 20080830)
    r&quot;^(?P&lt;date&gt;(?P&lt;year&gt;[0-9]{4})(?P&lt;month&gt;1[0-2]|0[1-9])(?P&lt;day&gt;3[01]|0[1-9]|[12][0-9]))$&quot;,
    # Ordinal date (e.g. 2008-243). The hyphen is optional
    r&quot;^(?P&lt;date&gt;(?P&lt;year&gt;[0-9]{4})-?(?P&lt;day&gt;36[0-6]|3[0-5][0-9]|[12][0-9]{2}|0[1-9][0-9]|00[1-9]))$&quot;,
    #
    # Weeks
    #
    # Week of the year (e.g., 2008-W35). The hyphen is optional
    r&quot;^(?P&lt;date&gt;(?P&lt;year&gt;[0-9]{4})-?W(?P&lt;week&gt;5[0-3]|[1-4][0-9]|0[1-9]))$&quot;,
    # Week date (e.g., 2008-W35-6). The hyphens are optional
    r&quot;^(?P&lt;date&gt;(?P&lt;year&gt;[0-9]{4})-?W(?P&lt;week&gt;5[0-3]|[1-4][0-9]|0[1-9])-?(?P&lt;day&gt;[1-7]))$&quot;,
    #
    # Times
    #
    # Hours and minutes (e.g., 17:21). The colon is optional
    r&quot;^(?P&lt;time&gt;(?P&lt;hour&gt;2[0-3]|[01][0-9]):?(?P&lt;minute&gt;[0-5][0-9]))$&quot;,
    # Hours, minutes, and seconds w/o colons (e.g., 172159)
    r&quot;^(?P&lt;time&gt;(?P&lt;hour&gt;2[0-3]|[01][0-9])(?P&lt;minute&gt;[0-5][0-9])(?P&lt;second&gt;[0-5][0-9]))$&quot;,
    # Time zone designator (e.g., Z, +07 or +07:00). The colons and the minutes are optional
    r&quot;^(?P&lt;timezone&gt;(Z|[+-](?:2[0-3]|[01][0-9])(?::?(?:[0-5][0-9]))?))$&quot;,
    # Hours, minutes, and seconds with time zone designator (e.g., 17:21:59+07:00).
    # All the colons are optional. The minutes in the time zone designator are also optional
    r&quot;^(?P&lt;time&gt;(?P&lt;hour&gt;2[0-3]|[01][0-9])(?P&lt;minute&gt;[0-5][0-9])(?P&lt;second&gt;[0-5][0-9]))(?P&lt;timezone&gt;Z|[+-](?:2[0-3]|[01][0-9])(?::?(?:[0-5][0-9]))?)$&quot;,
    #
    # Date and Time
    #
    # Calendar date with hours, minutes, and seconds (e.g., 2008-08-30 17:21:59 or 20080830 172159).
    # A space is required between the date and the time. The hyphens and colons are optional.
    # This regex matches dates and times that specify some hyphens or colons but omit others.
    # This does not follow ISO 8601
    r&quot;^(?P&lt;date&gt;(?P&lt;year&gt;[0-9]{4})(?P&lt;hyphen&gt;-)?(?P&lt;month&gt;1[0-2]|0[1-9])(?(hyphen)-)(?P&lt;day&gt;3[01]|0[1-9]|[12][0-9])) (?P&lt;time&gt;(?P&lt;hour&gt;2[0-3]|[01][0-9])(?(hyphen):)(?P&lt;minute&gt;[0-5][0-9])(?(hyphen):)(?P&lt;second&gt;[0-5][0-9]))$&quot;,
    #
    # XML Schema dates and times
    #
    # Date, with optional time zone (e.g., 2008-08-30 or 2008-08-30+07:00).
    # Hyphens are required. This is the XML Schema &#39;date&#39; type
    r&quot;^(?P&lt;date&gt;(?P&lt;year&gt;-?(?:[1-9][0-9]*)?[0-9]{4})-(?P&lt;month&gt;1[0-2]|0[1-9])-(?P&lt;day&gt;3[01]|0[1-9]|[12][0-9]))(?P&lt;timezone&gt;Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$&quot;,
    # Time, with optional fractional seconds and time zone (e.g., 01:45:36 or 01:45:36.123+07:00).
    # There is no limit on the number of digits for the fractional seconds. This is the XML Schema &#39;time&#39; type
    r&quot;^(?P&lt;time&gt;(?P&lt;hour&gt;2[0-3]|[01][0-9]):(?P&lt;minute&gt;[0-5][0-9]):(?P&lt;second&gt;[0-5][0-9])(?P&lt;frac&gt;\.[0-9]+)?)(?P&lt;timezone&gt;Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$&quot;,
    # Date and time, with optional fractional seconds and time zone (e.g., 2008-08-30T01:45:36 or 2008-08-30T01:45:36.123Z).
    # This is the XML Schema &#39;dateTime&#39; type
    r&quot;^(?P&lt;date&gt;(?P&lt;year&gt;-?(?:[1-9][0-9]*)?[0-9]{4})-(?P&lt;month&gt;1[0-2]|0[1-9])-(?P&lt;day&gt;3[01]|0[1-9]|[12][0-9]))T(?P&lt;time&gt;(?P&lt;hour&gt;2[0-3]|[01][0-9]):(?P&lt;minute&gt;[0-5][0-9]):(?P&lt;second&gt;[0-5][0-9])(?P&lt;ms&gt;\.[0-9]+)?)(?P&lt;timezone&gt;Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$&quot;,
]
</pre></div>
</div>
<p>if <strong>name</strong> == “<strong>main</strong>”:  # pragma: no cover
from .console import Console</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>console = Console()
console.print(&quot;[bold green]hello world![/bold green]&quot;)
console.print(&quot;&#39;[bold green]hello world![/bold green]&#39;&quot;)

console.print(&quot; /foo&quot;)
console.print(&quot;/foo/&quot;)
console.print(&quot;/foo/bar&quot;)
console.print(&quot;foo/bar/baz&quot;)

console.print(&quot;/foo/bar/baz?foo=bar+egg&amp;egg=baz&quot;)
console.print(&quot;/foo/bar/baz/&quot;)
console.print(&quot;/foo/bar/baz/egg&quot;)
console.print(&quot;/foo/bar/baz/egg.py&quot;)
console.print(&quot;/foo/bar/baz/egg.py word&quot;)
console.print(&quot; /foo/bar/baz/egg.py word&quot;)
console.print(&quot;foo /foo/bar/baz/egg.py word&quot;)
console.print(&quot;foo /foo/bar/ba._++z/egg+.py word&quot;)
console.print(&quot;https://example.org?foo=bar#header&quot;)

console.print(1234567.34)
console.print(1 / 2)
console.print(-1 / 123123123123)

console.print(
    &quot;127.0.1.1 bar 192.168.1.4 2001:0db8:85a3:0000:0000:8a2e:0370:7334 foo&quot;
)
import json

console.print_json(json.dumps(obj={&quot;name&quot;: &quot;apple&quot;, &quot;count&quot;: 1}), indent=None)
</pre></div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Adam Worsnip.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>